{% extends 'base.html' %} {% block content %}
<div class="min-h-screen flex flex-col items-center justify-center">
  <div
    class="max-w-md mx-auto bg-dutch/90 p-8 rounded-lg shadow-lg border-licorice border-4 mt-20">
    <h2 class="text-2xl text-licorice font-pro font-bold mb-6 text-center">Register</h2>
      <form method="POST" class="space-y-4" id="signupForm">
      {% csrf_token %} {% include 'components/input.html' with label=form.username.label placeholder=form.username.field.widget.attrs.placeholder name=form.username.name %} 
      {% if form.username.errors %}
      <div class="text-red-500 text-sm">
        {{ form.username.errors|join:', ' }}
      </div>
      {% endif %} 
      {% include 'components/input.html' with label=form.email.label placeholder=form.email.field.widget.attrs.placeholder name=form.email.name %} 
      {% if form.email.errors %}
      <div class="text-red-500 text-sm">{{ form.email.errors|join:', ' }}</div>
      {% endif %} 
      {% include 'components/input.html' with type="password" label=form.password1.label placeholder=form.password1.field.widget.attrs.placeholder name=form.password1.name %} 
      {% if form.password1.errors %}
      <div class="text-red-500 text-sm">
        {{ form.password1.errors|join:', ' }}
      </div>
      {% endif %} 
      {% include 'components/input.html' with type="password" label=form.password2.label placeholder=form.password2.field.widget.attrs.placeholder name=form.password2.name %} 
      {% if form.password2.errors %}
      <div class="text-red-500 text-sm">
        {{ form.password2.errors|join:', ' }}
      </div>
      {% endif %}
      <label for="role" class="block text-licorice font-pro text-sm font-bold mb-2"
        >Role</label>
      <select
        name="role"
        id="role"
        class="shadow appearance-none border rounded-2xl w-full py-2 px-3 text-licorice font-pro leading-tight focus:outline-none focus:shadow-outline">
        <option disabled selected>Pilih Role</option>
        <option value="RESTO_OWNER">Pemilik Toko</option>
        <option value="CUSTOMER">User</option>
      </select>
      {% if form.role.errors %}
      <div class="text-red-500 text-sm">{{ form.role.errors|join:', ' }}</div>
      {% endif %}
      <button
        type="submit"
        class="w-full py-2 bg-licorice/80 font-bold text-dutch rounded-full hover:translate-y-[2px] duration-300 transition">
        Sign Up
      </button>
    </form>
  </div>
  <script>
    document
      .getElementById("signupForm")
      .addEventListener("click", function (e) {
        e.stopPropagation();
        console.log("hi");
        const form = document.getElementById("signupForm");
        const formData = new FormData(form); // Get the form data

        // Create an object to hold the data
        const data = {};
        formData.forEach((value, key) => {
          data[key] = value; // Populate the object with key-value pairs
        });

        console.log(data); // Log the data object to the console
      });
  </script>
</div>
{% endblock %}
